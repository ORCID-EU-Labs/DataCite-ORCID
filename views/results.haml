= partial :search_header, :page => page
        
.row-fluid
  .span3

  .span9
    - unless flash[:error].nil?
      %div.alert.alert-error
        = flash[:error]
    - unless page[:page].nil? || page[:paginate].nil? || params['q'] == ""
      = partial :search_box, :page => page
      .list-info
        .pull-right
          %h6.number= "#{page[:paginate].total_rows} results - page #{page[:page]} of #{page[:paginate].total_pages}"
        %span
          %h6
            Sort by:
            - if page[:bare_sort] == 'publicationYear'
              %a{:href => "#{search_link({:sort => 'score'})}"} relevance
              %b publication year
            - else
              %b relevance
              %a{:href => "#{search_link({:sort => 'publicationYear'})}"} publication year
        .pull-left
          %h6 
            Filter:
            - if page[:filter] == 'showUnclaimed'
              %a{:href => "#{search_link({:filter => 'showAll'})}"} all
              %b only unclaimed by me
              %a{:href => "#{search_link({:filter => 'showClaimed'})}"} only claimed by me
            - elsif page[:filter] == 'showClaimed'
              %a{:href => "#{search_link({:filter => 'showAll'})}"} all
              %a{:href => "#{search_link({:filter => 'showUnclaimed'})}"} only claimed by me
              %b only claimed by me
            - else
              %b all
              %a{:href => "#{search_link({:filter => 'showUnclaimed'})}"} only unclaimed by me
              %a{:href => "#{search_link({:filter => 'showClaimed'})}"} only claimed by me
      = partial :item_list, :page => page
      .item-paging.bottom
        = will_paginate page[:paginate], :renderer => BootstrapLinkRenderer, :inner_window => 2
    - else
      %h2
        Example Queries
      = partial :help_list, :page => page

= partial :cite_box, :page => page

= partial :search_footer, :page => page